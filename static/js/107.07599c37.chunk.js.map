{"version":3,"file":"static/js/107.07599c37.chunk.js","mappings":"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","sources":["Service/fetchApi.jsx","pages/Movies/Movie.styled.js","pages/Movies/Movies.jsx"],"sourcesContent":["const URL = 'https://api.themoviedb.org/3';\nconst api_key = '481cbb6dba5121edc01136f73aa6b3c6';\n\n//--\nexport function fetchTrending() {\n  const urlTrending = `${URL}/trending/all/day?api_key=${api_key}`;\n  return fetch(urlTrending).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Can´t find tranding films'));\n  });\n}\n//--\nexport function fetchMovieDetails(moviesID) {\n  const urlMoviesDetails = `${URL}/movie/${moviesID}?api_key=${api_key}`;\n  return fetch(urlMoviesDetails).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Can´t find tranding films'));\n  });\n}\n//--\n\nexport function fetchCast(moviesID) {\n  const urlCast = `${URL}/movie/${moviesID}/credits?api_key=${api_key}`;\n  return fetch(urlCast).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Can´t find tranding films'));\n  });\n}\n\n//-- https://api.themoviedb.org/3/movie/{movie_id}/reviews\nexport function fetchReviews(moviesID) {\n  const URLReviews = `${URL}/movie/${moviesID}/reviews?api_key=${api_key}`;\n  return fetch(URLReviews).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Can´t find tranding films'));\n  });\n}\n\n//-- https://api.themoviedb.org/3/search/movie\nexport function fetchSearch(SearchName) {\n  const URLReviews = `${URL}/search/movie?api_key=${api_key}&query=${SearchName}`;\n  return fetch(URLReviews).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(new Error('Can´t find tranding films'));\n  });\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  margin: 20px 0px;\n  padding-bottom: 20px;\n`;\n\nexport const SubmitForm = styled.form`\n  display: flex;\n  gap: 10px;\n  margin: 20px 0px;\n  padding-bottom: 20px;\n`;\n\nexport const Title = styled.div`\n  padding-bottom: 20px;\n  font-size: 24px;\n  font-weight: 800;\n`;\nexport const List = styled.ul`\n  font-size: 18px;\n  font-weight: 400;\n`;\n\nexport const AddInfo = styled.div`\n  padding-bottom: 20px;\n`;\n","import React, { Suspense, useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { TbSearch } from 'react-icons/tb';\nimport { fetchSearch } from 'Service/fetchApi';\nimport { Container, List, SubmitForm } from './Movie.styled';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchName, setSearchName] = useState('');\n  const [recieveData, setRecieveData] = useState('');\n\n  const name = searchParams.get('name') ?? '';\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchName !== '') {\n      setSearchParams(searchName);\n    }\n  };\n\n  const updateQueryString = name => {\n    const nextParams = name !== '' ? { name } : {};\n    setSearchName(nextParams);\n  };\n\n  useEffect(() => {\n    fetchSearch(name)\n      .then(data => {\n        setRecieveData(data);\n      })\n      .catch(error => console.log(error.message));\n  }, [name]);\n\n  const { results } = recieveData;\n\n  return (\n    <Container>\n      <div>\n        <SubmitForm onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            onChange={e => updateQueryString(e.target.value)}\n          />\n          <button type=\"submit\">\n            <TbSearch />\n            <span>Search</span>\n          </button>\n        </SubmitForm>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <div>\n          {results && (\n            <List>\n              {results.map(({ id, title, name }) => (\n                <li key={id}>\n                  <Link to={`/movies/${id}`} state={{ from: location }}>\n                    {title || name}\n                  </Link>\n                </li>\n              ))}\n            </List>\n          )}\n        </div>\n      </Suspense>\n    </Container>\n  );\n};\n\nfetchSearch.propTypes = {\n  results: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n    })\n  ),\n};\nexport default Movies;\n"],"names":["URL","api_key","fetchTrending","urlTrending","fetch","then","res","ok","json","Promise","reject","Error","fetchMovieDetails","moviesID","urlMoviesDetails","fetchCast","urlCast","fetchReviews","URLReviews","fetchSearch","SearchName","Container","styled","SubmitForm","List","results","PropTypes","id","title","name","location","useLocation","useSearchParams","searchParams","setSearchParams","useState","searchName","setSearchName","recieveData","setRecieveData","get","useEffect","data","catch","error","console","log","message","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","updateQueryString","target","value","Suspense","fallback","map","to","state","from"],"sourceRoot":""}
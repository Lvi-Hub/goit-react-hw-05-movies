"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[278],{2758:function(n,e,t){t.d(e,{Bt:function(){return u},Tg:function(){return c},Y5:function(){return o},on:function(){return s},y:function(){return a}});var r="https://api.themoviedb.org/3",i="481cbb6dba5121edc01136f73aa6b3c6";function c(){var n=new URLSearchParams({api_key:i,page:1}),e="".concat(r,"/trending/all/day?").concat(n);return fetch(e).then((function(n){return n.ok?n.json():Promise.reject(new Error("Can\xb4t find tranding films"))}))}function o(n){var e="".concat(r,"/movie/").concat(n,"?api_key=").concat(i);return fetch(e).then((function(n){return n.ok?n.json():Promise.reject(new Error("Can\xb4t find tranding films"))}))}function a(n){var e="".concat(r,"/movie/").concat(n,"/credits?api_key=").concat(i);return fetch(e).then((function(n){return n.ok?n.json():Promise.reject(new Error("Can\xb4t find tranding films"))}))}function u(n){var e="".concat(r,"/movie/").concat(n,"/reviews?api_key=").concat(i);return fetch(e).then((function(n){return n.ok?n.json():Promise.reject(new Error("Can\xb4t find tranding films"))}))}function s(n){var e="".concat(r,"/search/movie?api_key=").concat(i,"&query=").concat(n);return fetch(e).then((function(n){return n.ok?n.json():Promise.reject(new Error("Can\xb4t find tranding films"))}))}},9278:function(n,e,t){t.r(e);var r=t(9439),i=t(2791),c=t(7689),o=t(1087),a=t(2007),u=t.n(a),s=t(1578),f=t(2758),d=t(184);f.on.propTypes={results:u().arrayOf(u().shape({id:u().number.isRequired,title:u().string.isRequired,name:u().string.isRequired}))},e.default=function(){var n,e=(0,c.TH)(),t=(0,o.lr)(),a=(0,r.Z)(t,2),u=a[0],l=a[1],h=(0,i.useState)(""),m=(0,r.Z)(h,2),v=m[0],p=m[1],j=(0,i.useState)(""),g=(0,r.Z)(j,2),k=g[0],x=g[1],_=null!==(n=u.get("name"))&&void 0!==n?n:"";(0,i.useEffect)((function(){(0,f.on)(_).then((function(n){x(n)})).catch((function(n){return console.log(n.message)}))}),[_]);var b=k.results;return console.log(b),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:function(n){n.preventDefault(),""!==v&&l(v)},children:[(0,d.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(n){return function(n){p(""!==n?{name:n}:{})}(n.target.value)}}),(0,d.jsxs)("button",{type:"submit",children:[(0,d.jsx)(s.adB,{}),(0,d.jsx)("span",{children:"Search"})]})]})}),(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."}),children:(0,d.jsx)("div",{children:b&&(0,d.jsx)("ul",{children:b.map((function(n){var t=n.id,r=n.title,i=n.name;return(0,d.jsx)("li",{children:(0,d.jsx)(o.rU,{to:"/movies/".concat(t),state:{from:e},children:r||i})},t)}))})})})]})}}}]);
//# sourceMappingURL=278.5882cc7f.chunk.js.map